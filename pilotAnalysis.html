<!-- This takes data from the pilot and plots it in a div -->
<!doctype html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="http://evanplaice.github.io/jquery-csv/src/jquery.csv.js"></script>
    <link href="css/home.css" rel="stylesheet" type="text/css"></link>
  
  </head>
  <body>
    <ul>
            <li><a href="index.html">Home</a></li>
            <li><a class="active" href="Experiments.html">Experiments</a></li>
            <li><a href="Contact.html">Contact</a></li>
            <li><a href="Resume.html">Resume</a></li>
    </ul>
    <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
  </body>
  <script>
    
    var input;
    var repair;
    var data1; 
    $.get('/result/results.csv', function (response) {
      input = response;
      repair = input.substring(0, input.length - 1);
      data1 = $.csv.toArrays(repair);
    }); 
    
    
    
    
    $(function (data1) {
        Highcharts.chart('container', {
            chart: {
                type: 'line'
            },
            title: {
                text: 'Hyperbolic discounting'
            },
            subtitle: {
                text: 'Data from Pilot'
            },
            xAxis: {
                categories: ['100%', '80%', '40%', '25%', '10%']
            },
            yAxis: {
                title: {
                    text: 'Subjective Value ($)'
                }
            },
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: true
                    },
                    enableMouseTracking: false
                }
            },
            series: [{
                name: 'Immediately',
                data: data1[0].map(Number)
            }, {
                name: '1 month',
                data: data1[1].map(Number)
            }, {
                name: '6 months',
                data: data1[2].map(Number)
            }, {
                name: '2 years',
                data: data1[3].map(Number)
            }, {
                name: '5 years',
                data: data1[4].map(Number)
            }]
        });
    });
  </script>
</html>




